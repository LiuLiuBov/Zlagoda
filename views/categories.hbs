<head>
  <link rel="stylesheet" href="categories.css">
  <link rel="stylesheet" href="popupS.css">

  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
  {{#if isManager}}

<div class="container" id="more" onclick="myFunction(this)">
  <div class="bar1"></div>
  <div class="bar2"></div>
  <div class="bar3"></div>
</div>

<div id="settings">
  <button id="reportBtn" class="btn btn-primary btn-sm">Categories report</button>

  <form action="categories/add" method="POST">
    <label for="catname">Category name:</label>
    <input type="text" id="catname" name="catname" required>
    <button type="submit">Add</button>
  </form>
</div>  
  {{/if}}
  
  <div class="table-responsive">
    <table class="table table-hover">
      <thead>
        <tr>
          <th style="width: 40%;">Category number</th>
                <th style="width: 40%;">Category name</th>
                <th style="width: 20%;"></th>
        </tr>
      </thead>
      <tbody id="categories-table">

        {{#each categories}}
        <tr>
          <td>{{this.category_number}}</td>
          <td>{{this.category_name}}</td>
          <td>
            {{#if ../isManager}}
            <div class="btn-group" role="group">
                        <a href="categories/edit/{{this.category_number}}" class="btn btn-success btn-sm"><i
                                class="fas fa-pencil-alt"></i></a>
                        <a href="categories/delete/{{this.category_number}}" class="btn btn-danger btn-sm"><i
                                class="fa fa-times"></i></a>
                    </div>
            {{else}}

            {{/if}}
          </td>
        </tr>
        {{/each}}


      </tbody>
    </table>
  </div>

<script>
  $(document).ready(function () {
    $('#reportBtn').on('click', function () {
      window.open('/categories/report', '_blank');
    });
  });
  
  var settingsDiv = document.getElementById("settings");
    settingsDiv.style.display = "none";

  function myFunction(x) {
    x.classList.toggle("change");
    var settingsDiv = document.getElementById("settings");

    // Toggle the visibility of the settings div
    if (settingsDiv.style.display === "none") {
      settingsDiv.style.display = "block";
    } else {
      settingsDiv.style.display = "none";
    }
  }
</script>
  <!-- Підключаємо jQuery та Bootstrap JS -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

</body>



